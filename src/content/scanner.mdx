export const metadata = {
  title: 'Scanner',
  description: 'Scanner or Vertical Comparsion Slider component made with clip-path.'
}

# Scanner

<Description>
Scanner or Vertical Comparsion Slider component made with clip-path.
</Description>

<DemoContainer isRounded>
  <ScannerDemo />
</DemoContainer>

## Code

<Tabs>

<TabsList>
<Tab id='scanner'>scanner.tsx</Tab>
<Tab id='css'>scanner.module.css</Tab>
</TabsList>

<TabPanel id='scanner'>
```tsx
// pnpm add motion

'use client';

import {
  motion,
  transform,
  useMotionTemplate,
  useSpring,
  useTransform,
} from 'motion/react';
import * as React from 'react';

import s from './scanner.module.css';

function getDefaultScanLinePosition(isPhone: boolean) {
  return isPhone ? 120 : 145;
}

export function Scanner() {
  const [isPhone, setIsPhone] = React.useState(false);

  const defaultScanLinePosition = getDefaultScanLinePosition(isPhone);
  const scannerHeight = isPhone ? 200 : 250;
  const scanLineBorderWidth = 2;
  const scanLineClipWidth = 2;

  // The initial value is the maximum possible height of the scanner
  // So it's not visible from the start, before we know user's viewport
  const scanLinePosition = useSpring(250, {
    bounce: 0.18,
  });
  const scannerClipPath = useTransform(
    () => scanLinePosition.get() + scanLineBorderWidth + scanLineClipWidth
  );

  React.useEffect(() => {
    let current = true;
    const mql = window.matchMedia('(max-width: 768px)');
    mql.addEventListener('change', handleChange);
    // Immediately animate default scan line position after media check
    scanLinePosition.set(getDefaultScanLinePosition(mql.matches));
    setIsPhone(mql.matches);
    return () => {
      current = false;
      mql.removeEventListener('change', handleChange);
    };
    function handleChange() {
      if (current) {
        // Change scan line position without animation after match media change
        scanLinePosition.jump(getDefaultScanLinePosition(mql.matches));
        setIsPhone(mql.matches);
      }
    }
  }, [scanLinePosition]);

  return (
    <div
      className={s.container}
      style={
        {
          '--sc-line-border-width': `${scanLineBorderWidth}px`,
          '--sc-line-clip-width': `${scanLineClipWidth}px`,
        } as React.CSSProperties
      }
      onMouseMove={(event) => {
        const rect = event.currentTarget.getBoundingClientRect();
        scanLinePosition.set(
          transform(
            event.clientY - rect.top,
            [0, scannerHeight],
            [(scannerHeight / 100) * 15, (scannerHeight / 100) * 85]
          )
        );
      }}
      onMouseLeave={() => scanLinePosition.set(defaultScanLinePosition)}
    >
      <div className={s.text}>
        Stop wasting
        <br />
        your time
      </div>
      <motion.div
        className={s.scanLine}
        style={{top: scanLinePosition}}
        aria-hidden
      />
      <motion.div
        className={s.scanner}
        style={{
          clipPath: useMotionTemplate`inset(${scannerClipPath}px 0 0)`,
        }}
        aria-hidden
      >
        <div className={s.scannerBg} />
        <div className={s.text} data-outlined="">
          Stop wasting
          <br />
          your time
        </div>
      </motion.div>
    </div>
  );
}
```
</TabPanel>

<TabPanel id='css'>
```css
.container {
  --padding: var(--space-6);

  height: 200px;
  aspect-ratio: 1.5 / 1;
  padding: var(--padding);
  position: relative;
  display: flex;
  align-items: center;
  box-shadow: 0 0 0 1px var(--color-border);

  @media (min-width: 768px) {
    height: 250px;
  }
}

.text {
  color: var(--color-white);
  font-size: var(--font-size-8);
  line-height: var(--line-height-8);
  font-weight: var(--font-weight-medium);
  letter-spacing: -0.0075em;

  &:where([data-outlined]) {
    color: var(--color-background);
    text-shadow:
      -1px -1px 0 var(--color-accent),
      1px -1px 0 var(--color-accent),
      -1px 1px 0 var(--color-accent),
      1px 1px 0 var(--color-accent);
    z-index: 1;
  }

  @media (min-width: 768px) {
    font-size: calc(var(--font-size-8) * 1.3);
    line-height: calc(var(--line-height-8) * 1.1);
    letter-spacing: -0.01em;
  }
}

.scanLine,
.scanner {
  pointer-events: none;
  user-select: none;
}

.scanLine {
  width: 100%;
  position: absolute;
  inset: 0;
  background-color: var(--color-border-strong);
  border-top: var(--sc-line-border-width) solid var(--color-border-weak);
  height: calc(var(--sc-line-border-width) + var(--sc-line-clip-width));
}

.scanner {
  display: flex;
  align-items: center;
  position: absolute;
  inset: 0;
  padding: var(--padding);
}

.scannerBg {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(180deg, var(--color-green-6) 0, transparent 100%);
}
```
</TabPanel>

</Tabs>
